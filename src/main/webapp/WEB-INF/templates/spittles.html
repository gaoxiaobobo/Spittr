<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
	<head>
		<title>Spitter</title>
		<link rel="stylesheet" 
		      type="text/css" 
		      th:href="@{/resources/css/style.css}" ></link>
	</head>
	<body>
		<!-- <div id="header" th:include="page :: header"></div> -->
		
		<div id="content">
			<div class="spittleForm">
				<h1>Spit it out...</h1>
				<form method="POST"
					  th:object="${spittleForm}"				      
				      th:action="@{/spittles}">
			        <div class="errors" th:if="${#fields.hasErrors('*')}">
						<ul>
							<li th:each="err : ${#fields.errors('*')}" 
							    th:text="${err}">Input is incorrect</li>
						</ul>
					</div>
					
					<p>Message</p>		
					<textarea rows="5"
							  th:field="*{message}" >
			        </textarea><br/>			        
					<input type="submit" value="Add" />
				</form>
			</div>
			
			<div class="listTitle">
			<h1>Recent Spittles</h1>
			<ul class="spittleList">
				<!-- <li th:each="spittle : ${spittleList}" th:id="'spittle_' + ${spittle.id}"> -->
				<li th:each="spittle: ${spittleList}" >
					<div class="spittleMessage" th:text="${spittle.message}">Spittle message</div>
					<div>
						<span class="spittleTime" th:text="${spittle.createdDate}">spittle timestamp</span>						
					</div>
				</li>
			</ul>
			</div>
		</div>
		
		<!-- <div id="footer" th:include="page :: copy"></div> -->
	</body>
</html>